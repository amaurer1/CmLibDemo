//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// LockControl.cpp
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// Copyright (c) 2019-2024 Adrian Maurer. All rights reserved.
// Distributed under the MIT software license (http://www.opensource.org/licenses/mit-license.php).
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
#include "pch.h"
#include "framework.h"
#include "CustomControl.h"
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
#ifdef _DEBUG
#define new DEBUG_NEW
#endif
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// CCustomButton
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// CCustomButton - MESSAGE MAP FUNCTIONS
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
BEGIN_MESSAGE_MAP(CCustomButton, CButton)
	ON_WM_LBUTTONUP()
	ON_WM_KEYUP()
	ON_WM_GETDLGCODE()
END_MESSAGE_MAP()
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CCustomButton::OnLButtonUp(UINT nFlags, CPoint pnt)
{
	if (!isLocked()) CButton::OnLButtonUp(nFlags, pnt);
	else ::ReleaseCapture();
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CCustomButton::OnKeyUp(UINT nChar, UINT nRepCnt, UINT nFlags)
{
	if (!isLocked())
	{
		CButton::OnKeyUp(nChar, nRepCnt, nFlags);
	}
	else
	{
		SetState(FALSE);
		::ReleaseCapture();
	}
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
UINT CCustomButton::OnGetDlgCode()
{
	return DLGC_BUTTON | DLGC_WANTARROWS | DLGC_WANTTAB;
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// CCustomComboBox
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// CCustomComboBox - MESSAGE MAP FUNCTIONS
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
BEGIN_MESSAGE_MAP(CCustomComboBox, CComboBox)
	ON_WM_LBUTTONDOWN()
	ON_WM_LBUTTONDBLCLK()
	ON_WM_KEYDOWN()
	ON_WM_CHAR()
END_MESSAGE_MAP()
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CCustomComboBox::OnLButtonDown(UINT nFlags, CPoint pnt)
{
	if (!isLocked()) CComboBox::OnLButtonDown(nFlags, pnt);
	else SetFocus();
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CCustomComboBox::OnLButtonDblClk(UINT nFlags, CPoint pnt)
{
	if (!isLocked()) CComboBox::OnLButtonDblClk(nFlags, pnt);
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CCustomComboBox::OnKeyDown(UINT nChar, UINT nRepCnt, UINT nFlags)
{
	if (!isLocked()) CComboBox::OnKeyDown(nChar, nRepCnt, nFlags);
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CCustomComboBox::OnChar(UINT nChar, UINT nRepCnt, UINT nFlags)
{
	if (!isLocked()) CComboBox::OnChar(nChar, nRepCnt, nFlags);
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// CCustomListBox
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// CCustomListBox - MESSAGE MAP FUNCTIONS
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
BEGIN_MESSAGE_MAP(CCustomListBox, CListBox)
	ON_WM_LBUTTONDOWN()
	ON_WM_KEYDOWN()
	ON_WM_CHAR()
END_MESSAGE_MAP()
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CCustomListBox::OnLButtonDown(UINT nFlags, CPoint pnt)
{
	if (!isLocked()) CListBox::OnLButtonDown(nFlags, pnt);
	else SetFocus();
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CCustomListBox::OnKeyDown(UINT nChar, UINT nRepCnt, UINT nFlags)
{
	if (!isLocked()) CListBox::OnKeyDown(nChar, nRepCnt, nFlags);
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void CCustomListBox::OnChar(UINT nChar, UINT nRepCnt, UINT nFlags)
{
	if (!isLocked()) CListBox::OnChar(nChar, nRepCnt, nFlags);
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
